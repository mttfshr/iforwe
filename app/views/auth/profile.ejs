<% include ../partials/header %>

<section class="hero">
  <div class="hero-body">
    <div class="container">
      <h1 class="title">
        <span class="fa fa-anchor"></span> Profile Page
      </h1>
    </div>
    <section class="section">
  <div class="container">
    <div class="heading">
      <form action="/user/update" method="post">
      <h1 class="title">Edit this user</h1>
      <h2 class="subtitle">
        Username <input type="text" name="username" label="username" placeholder="<%= user.properties.username %>" required />
        Full Name <input type="text" name="name" placeholder="<%= user.properties.name %>" required />
        Gender <input type="text" name="gender" placeholder="<%= user.properties.gender %>" required />
        Location <input type="text" name="location" placeholder="<%= user.properties.location %>" required />
        <input type="submit" value="Update"/>
        Birthday <input type="text" name="birthday" placeholder="<%= user.properties.birthday %>" required />
        <input type="submit" value="Update"/>
      </h2>
      </form>
    </div>
  </div>
</section>

</section>


<div class="columns">
        <!-- LOCAL INFORMATION -->
        <div class="card column">
         <header class="card-header">
            <h3 class="card-header-title"><span class="fa fa-user card-header-icon"></span> Local</h3>
          </header>
          <div class="card-content">
            <div class="content">
              <% if (user.properties.localEmail) { %>
                  <p>
                      <strong>id</strong>: <%= user._id %><br>
                      <strong>email</strong>: <%= user.properties.localEmail %><br>
                      <strong>password</strong>: <%= user.properties.localPassword %>
                  </p>
            </div>
          </div>
          <footer class="card-footer">
            <a href="/unlink/local" class="button card-footer-item">Unlink</a>
              <% } else { %>
            <a href="/connect/local" class="button card-footer-item">Connect Local</a>
              <% } %>
          </footer>
        </div>
      </div>
    </div>

        <!-- FACEBOOK INFORMATION -->
        <div class="card column">
          <header class="card-header">
            <h3 class="card-header-title"><span class="fa fa-facebook card-header-icon"></span> Facebook</h3>
          </header>
            <div class="card-content">
              <div class="content" style="word-break: break-all;">
                <!-- check if the user has this token (is the user authenticated with this social account) -->
              <% if (user.properties.facebookToken) { %>
                <p>
                  <strong>id</strong>: <%= user.properties.facebookId %><br>
                  <strong>token</strong>: <%= user.properties.facebookToken %><br>
                  <strong>email</strong>: <%= user.properties.facebookEmail %><br>
                  <strong>name</strong>: <%= user.properties.facebookName %><br>
                </p>
                <a href="/unlink/facebook" class="button">Unlink</a>
                <% } else { %>
                    <a href="/auth/facebook" class="button">Connect Facebook</a>
                <% } %>
              </div>
            </div>
        </div>
</div>
<% include ../partials/footer %>
